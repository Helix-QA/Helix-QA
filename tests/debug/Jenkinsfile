pipeline {
    agent any
    parameters {
        choice(name: 'TRIGGER_TYPE', choices: ['None', 'Cron', 'Webhook', 'Manual'], description: 'Выберите тип триггера')
        // Динамический параметр будет добавлен через Active Choices
    }
    stages {
        stage('Initialize') {
            steps {
                script {
                    def triggerType = binding.variables.get("TRIGGER_TYPE") ?: "None"
                    switch (triggerType) {
                        case "Cron":
                            return ["Every Minute", "Every Hour", "Daily", "Weekly"]
                        case "Webhook":
                            return ["GitHub", "Bitbucket", "GitLab", "Custom"]
                        case "Manual":
                            return ["Run Now", "Schedule Later", "Run with Delay"]
                        default:
                            return ["Select a Trigger First"]
}
                }
            }
        }
        stage('Run Job') {
            steps {
                echo "Запуск задачи с параметрами..."
                // Здесь можно добавить шаги в зависимости от параметров
            }
        }
    }
}