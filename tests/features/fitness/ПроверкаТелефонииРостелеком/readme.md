# Проверка и создание Проверка телефонии Ростелеком   

Для автотестирования созданы следующие фича-файлы:

- **`ПроверкаТелефонииРостелеком   `**
- **`Export_ПроверкаТелефонииРостелеком   `**

#### Описание автотеста проверки Отчёты

## Загрузка данных

Этот сценарий предназначен для полной автоматизированной проверки работы телефонии Ростелеком в клиентском приложении, включая обработку входящих и пропущенных вызовов, запись звонков в историю, работу интерфейса и проверку связанных действий. Сначала формируется тестовая среда: создаётся клиент, очищаются переменные и подготавливаются данные для проверки. Далее моделируется входящий звонок от случайного номера, и система должна корректно отобразить окно входящего вызова, заполнить визуальные элементы, сформировать заметки и отобразить телефон в нужном формате. После закрытия окна звонка проверяется, создалась ли запись в истории вызовов, отображаются ли дата, время начала, статус и телефон клиента. Дополнительно проверяется работа функционала внутри карточки звонка: ввод заметок, создание заявки, создание потенциального клиента, работа кнопок звонка и корректная реакция системы в виде ожидаемых сообщений об ошибке.

После этого сценарий моделирует завершение звонка. Фиксируется точное время окончания вызова, затем сценарий перепроверяет запись в истории — должна появиться корректная строка с признаком «Завершен», с правильными временем и заметкой. В рамках карточки проверяется открытие связанных сущностей, менеджера, корректность ввода заметок и реакция на попытку повторного звонка.

Отдельный блок посвящён проверке пропущенного звонка. Создаётся новый пропущенный вызов с уникальным номером, фиксируется время создания, затем сценарий переходит в историю вызовов и проверяет, что запись появилась со статусом «Пропущен» и признаком «Не обработан». После открытия карточки номер переносится в чёрный список, добавляется заявка, создаются тестовые данные клиента, и затем проверяется, что новая заявка корректно появляется в списке. Также в заявке выполняется попытка позвонить по IP-телефонии, чтобы убедиться, что система снова выводит ожидаемую ошибку, сигнализируя о недоступном соединении.

В целом сценарий охватывает полный цикл проверки телефонии: входящий звонок, пропущенный звонок, взаимодействие через интерфейс, фиксацию данных, работу кнопок, корректность отображения в истории вызовов, формирование заявок и обработку негативных сценариев. Это позволяет убедиться, что интеграция с Ростелекомом работает стабильно, корректно записывает данные, отображает нужную информацию пользователю и адекватно реагирует на любые действия внутри карточки звонка.