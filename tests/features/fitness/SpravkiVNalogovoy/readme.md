# Описание автотеста справок в налоговую.

Для автотестирования созданы следующий сценарий:

- **`SpravkaVNalogovou.`**

Для тестирования справок были созданы следующие шаблоны справок в налоговую:

- **`КНД 1151160`**
- **`КНД 1151160_Корректировка`**
- **`КНД 1151160_ИНН`**
- **`КНД 1151160_БезИНН`**
---
- **`КНД 1151158`**
- **`КНД 1151158_Корректировка`**
- **`КНД 1151158_ИНН`**
- **`КНД 1151158_БезИНН`**
- **`КНД 1151158_Заочно`**
---
- **`КНД 1151156_Медицинская`**

---

<details><summary>(Выпадающий список)Описание сценариев по автотесту Справка в налоговую: </summary>

-   **Сценарий: Заполнение ИБ для проверки справок.**

В данном сценарии удаляются все переменные. Создаются: Клиент, Пакет услуг, Членство.

-   **Сценарий: Создание справки в налоговую.**

Создается продажа и в табличную часть добавляются: Членство, Пакет услуг, услуги персональная и групповая. Оплата продажи делается не на полную сумму для последующей корректировки справки в налоговую. Затем через карточку клиента создается справка в налоговую, вид справки выбирается "Об оплате физкульно-оздоровительных услуг", затем на основании этой справки печатаю форму "КНД 1151160" и сравниваю ее с готовым шаблоном.

После проверки уже открытая печатная форма закрывается, открывается эта же справка и в ней меняется вид на "Об оплате образовательных услуг", затем эта справка выводится на печать и справнивается с шаблоном "КНД 1151158".

После проверки оплачивается задолженность по продаже, потом переходится из карточки клиента в список уже созданных справок по текущему клиенты и создается корректировка справки в налоговую и выставляется ей вид "Об оплате физкульно-оздоровительных услуг". Выводится эта справка на печать и сверяется с шаблоном "КНД 1151160_Корректировка". Потом как прошла проверка, вид справки меняется на "Об оплате образовательных услуг" и проверяется по шаблону "КНД 1151158_Корректировка".

-   **Сценарий: Проверка справок со всеми данными(клиент+родственник).**

Создаются клиент и родственник с ИНН. Добавляю родственника в карточку клиента. Потом создаю продажа по всем номенклатурам. Потом идет работа с кодом, первая работа идет с разбивкой суммы оплаты по одному символу, вторая разбивает текущую дату также по одному символу. Потом печатается справка в налоговую с разным видом, и сверяется каждый вид со своим шаблоном: КНД 1151160_ИНН, КНД 1151158_ИНН.

После проверки как заполнилась справка в налоговую когда у клиента присутствует ИНН мы этот ИНН очищаем и печаем эту же справку в налоговую по новой, но уже сверяемся с другими шаблонами: КНД 1151160_БезИНН, КНД 1151158_БезИНН.

-   **Сценарий: Проверка вида справок(оздоровительные или образовательные).**

Открывается карточка уже существующего клиента, и в уже созданной справки в налоговую выставляется флаг что обучение проходит "Заочно" и сверяется печатная форма с шаблоном "КНД 1151158_Заочно".

-   **Сценарий: Проверка справки "Об оплате медицинских услуг".**

Аналогично сценарию выше, заходится в карточку и меняет настройки справки на нужные и проверяется печатная форма по шаблону "КНД 1151156_Медицинская".

</details>
