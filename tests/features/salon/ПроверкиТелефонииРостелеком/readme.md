# Проверка и создание Проверка телефонии Ростелеком   

Для автотестирования созданы следующие фича-файлы:

- **`ПроверкаТелефонииРостелеком   `**
- **`Export_ПроверкаТелефонииРостелеком   `**

#### Описание автотеста проверки Отчёты

## Загрузка данных

Этот автотест полностью проверяет работу входящих звонков через телефонию Ростелеком — от момента поступления звонка до его отображения в системе, обработки оператором и сохранения всей информации в истории вызовов. В начале тест всегда запускает клиентское приложение в чистом состоянии, закрывает все окна и подготавливает окружение: очищает переменные, создаёт нового мастера и нового клиента, чтобы все проверки выполнялись на «свежих» данных без влияния прошлых запусков.

Далее тест имитирует реальный входящий звонок от нового клиента. Сначала генерируется случайный номер телефона, который запоминается системой как номер клиента, после чего инициируется сам звонок. Проверяется, что окно входящего вызова корректно открылось, что в нём правильно отображаются дата и время, номер телефона, все декоративные элементы интерфейса, поля заметок и поиска контакта пустые, а статус клиента отображается корректно. Это подтверждает, что интерфейс звонка загружается без ошибок и показывает правильную информацию.

После этого тест проверяет, что звонок действительно записался в историю вызовов: открывается журнал, находится нужная запись по номеру телефона, текущей дате и времени, проверяется, что статус звонка — «разговор», что звонок не остался необработанным, что указаны правильные участники вызова и добавочный номер. Затем в карточку звонка добавляется подробная текстовая заметка о разговоре — таким образом тест подтверждает, что текстовая информация по звонку корректно сохраняется.

Далее проверяется работа кнопки добавления контакта: через поиск номер связывается с ранее созданным клиентом, чтобы убедиться, что оператор может быстро привязать звонок к нужному человеку. После этого проверяется кнопка «Позвонить» — при попытке совершить исходящий вызов специально ожидается сообщение об ошибке соединения с интернетом, то есть тест подтверждает, что система корректно обрабатывает ошибочную ситуацию, а не зависает или работает некорректно.

Затем тест проверяет возможность записи клиента в лист ожидания: выбирается созданный мастер, автоматически подставляется подходящая дата на конец следующего месяца, отмечаются нужные параметры расписания, и вся эта информация сохраняется. Это подтверждает, что после звонка можно сразу оформить дальнейшее взаимодействие с клиентом.

Дополнительно тест повторно проверяет кнопку «Перезвонить клиенту» прямо из карточки звонка и снова ожидает контролируемую ошибку связи, тем самым подтверждая стабильность обработки ошибок при повторных попытках вызова.

После этого отдельный сценарий посвящён пропущенному звонку. Снова генерируется новый номер, имитируется пропущенный вызов без разговора, фиксируется другое время звонка, и проверяется, что в истории вызовов этот звонок отображается со статусом «Пропущен», с корректной датой, временем, номером телефона и типом входящего звонка как «Новый клиент». Затем открывается карточка пропущенного звонка и проверяется, что интерфейс загружается правильно: номер отображается, поля пустые, декоративные элементы на месте, ошибок в отображении нет.

В итоге весь автотест целиком подтверждает, что система телефонии корректно обрабатывает как принятые, так и пропущенные звонки, правильно отображает информацию оператору, сохраняет историю вызовов, позволяет добавлять клиентов, оставлять заметки, записывать в лист ожидания и устойчиво реагирует на сетевые ошибки при попытке исходящего звонка.
